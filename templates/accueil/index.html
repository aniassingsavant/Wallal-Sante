{% extends 'base.html' %} {% load static %} {% block title %}Accueil{% endblock
%} {% block content %}

<!--# Carousel-->
<div
  class="d-flex w-100 vh-100 p-0 mx-0 flex-column text-center"
  data-aos="fade-in"
>
  <div
    id="myCarousel"
    class="carousel slide my-0 h-100 text-white d-flex align-items-center"
    data-bs-ride="carousel"
  >
    <div class="carousel-overlay" data-aos="zoom-in" data-aos-delay="200">
      <div class="col-lg-5 px-3">
        <h1 data-aos="fade-right" data-aos-delay="400">
          Bienvenue sur <span class="text-gdd fw-bolder">Wallal Santé</span>.
        </h1>
        <p class="lead" data-aos="fade-left" data-aos-delay="600">
          <span id="typed-slogan"></span>
        </p>
        <br />
        <p class="lead" data-aos="zoom-in-up" data-aos-delay="800">
          {% if user.is_authenticated %}
          <span class="text-gdd btn btn-lg btn-light"
            >Bonjour {{ user.username }} !</span
          >
          {% else %}
          <a
            href="{% url 'adhesion' %}"
            class="btn text-light btn-lg btn-light fw-bold border-white bg-gdd animate__animated animate__pulse animate__delay-2s"
            >Devenir membre
          </a>
          {% endif %}
        </p>
        
        </p>
      </div>
    </div>

    <div class="carousel-inner h-100 align-items-center">
      <div class="carousel-item active" data-aos="fade-up" data-aos-delay="200">
        <img
          src="{% static 'images/logo.jpg' %}"
          width="100%"
          height="100%"
          style="
            padding: 0;
            margin: 0;
            object-fit: cover !important;
            object-position: bottom !important;
          "
        />
      </div>
      <div
        class="carousel-item align-items-center"
        data-aos="fade-up"
        data-aos-delay="400"
      >
        <img
          src="{% static 'images/logo.jpg' %}"
          class=""
          width="100%"
          height="100%"
          style="
            object-fit: cover !important;
            object-position: center !important;
          "
        />
      </div>
      <div class="carousel-item" data-aos="fade-up" data-aos-delay="600">
        <img
          src="{% static 'images/logo1.jpg' %}"
          width="100%"
          height="100%"
          style="object-fit: cover !important"
        />
      </div>
    </div>
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#myCarousel"
      data-bs-slide="prev"
    >
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#myCarousel"
      data-bs-slide="next"
    >
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>

<!--A propos-->
<section class="container mt-5 pt-5 pb-2" data-aos="fade-up">
  <div
    class="d-flex flex-lg-wrap align-items-center pb-3 m-5 mt-0 me-0 ms-4 gap-2"
  >
    <div class="barre-verticale"></div>
    <h2 class="h2 display-5 fw-bold" data-aos="fade-right" data-aos-delay="100">
      À propos de Wallal Santé
    </h2>
  </div>
  <div class="container">
    <div class="row align-items-center fs-4">
      <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
        <p class="text-justify">
          Woila Community est une organisation dédiée à la promotion,
          l’accompagnement et la mise en réseau des entrepreneurs, freelances,
          jeunes créateurs et porteurs de projets de la région septentrionale.
        </p>
        <br />
        <a
          href="/a-propos/"
          class="btn btn-outline-primary mt-md-4 animate__animated animate__fadeInUp animate__delay-1s"
          >En savoir plus</a
        >
      </div>
      <div class="col-md-6" data-aos="zoom-in" data-aos-delay="300">
        <img src="{% static 'images/logo1.jpg' %}" class="img-fluid rounded" />
      </div>
    </div>
  </div>

  <hr class="featurette-divider" />
</section>

<!--Dernières actualités-->
<section class="container pt-4 pb-0 text-center" data-aos="fade-up">
  <div
    class="d-flex flex-lg-wrap align-items-center pb-3 m-5 mt-0 e-0 ms-4 gap-2"
  >
    <div class="barre-verticale"></div>
    <h2 class="h2 display-5 fw-bold" data-aos="fade-right" data-aos-delay="100">
      Dernière actualités
    </h2>
  </div>
  <div class="row mb-2">
    <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
      <div
        class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative animate__animated animate__fadeInUp animate__delay-1s"
      >
        
        <div class="col-auto d-none d-lg-block">
          <svg
            aria-label="Placeholder: Thumbnail"
            class="bd-placeholder-img"
            height="250"
            preserveAspectRatio="xMidYMid slice"
            role="img"
            width="200"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Placeholder</title>
            <image
              href="{% static 'images/logo.jpg' %}"
              width="200"
              height="250"
              preserveAspectRatio="xMidYMid slice"
            />
            <text x="50%" y="50%" fill="#eceeef" dy=".3em"></text>
          </svg>
        </div>
      </div>
    </div>
    <div class="col-md-6" data-aos="fade-up" data-aos-delay="300">
      <div
        class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative animate__animated animate__fadeInUp animate__delay-2s"
      >
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-success-emphasis"
            >Pitch</strong
          >
          <h3 class="mb-0">1min pour présenter un projet</h3>
          <div class="mb-1 text-body-secondary">11 Nov</div>
          <p class="mb-auto">
            Seesion de pitching pour les porteurs de projets...
          </p>
          <a href="#" class="icon-link gap-1 icon-link-hover stretched-link">
            Continuer la lecture &raquo;
            <svg class="bi" aria-hidden="true">
              <use xlink:href="#chevron-right"></use>
            </svg>
          </a>
        </div>
        <div class="col-auto d-none d-lg-block">
          <svg
            aria-label="Placeholder: Thumbnail"
            class="bd-placeholder-img"
            height="250"
            preserveAspectRatio="xMidYMid slice"
            role="img"
            width="200"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Placeholder</title>
            <image
              href="{% static 'images/logo1.jpg' %}"
              width="200"
              height="250"
              preserveAspectRatio="xMidYMid slice"
            />
            <text x="50%" y="50%" fill="#eceeef" dy=".3em"></text>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <a
    href=""
    class="btn btn-light text-gdd mt-3 animate__animated animate__fadeInUp animate__delay-3s"
    >Voir toutes les actualités</a
  >

  <hr class="featurette-divider" />
</section>



<!--Statistique-->
<section
  class="container mt-5 pt-4 text-center"
  data-aos="fade-up"
  id="stats-section"
>
  <div class="d-flex flex-lg-wrap align-items-center pb-3 m-5 me-0 ms-4 gap-2">
    <div class="barre-verticale"></div>
    <h2 class="h2 display-5 fw-bold" data-aos="fade-right" data-aos-delay="100">
      Statistiques
    </h2>
  </div>
  <div class="row">
    <div class="col-md-3 stat-col" data-bar="75" data-count="250+">
      <h1 class="display-4 fw-bold stat-number" data-target="250">0</h1>
      <p class="h4">Membres</p>
      <br />
      <div
        class="progress mx-5 shadow"
        role="progressbar"
        aria-label="Success example"
        aria-valuenow="25"
        aria-valuemin="0"
        aria-valuemax="100"
      >
        <div class="progress-bar bg-gdd stat-bar" style="width: 0%"></div>
      </div>
    </div>
    <div class="col-md-3 stat-col" data-bar="30" data-count="5">
      <h1 class="display-4 fw-bold stat-number" data-target="5">0</h1>
      <p class="h4">Villes</p>
      <br />
      <div
        class="progress mx-5 shadow"
        role="progressbar"
        aria-label="Success example"
        aria-valuenow="25"
        aria-valuemin="0"
        aria-valuemax="100"
      >
        <div class="progress-bar bg-gdd stat-bar" style="width: 0%"></div>
      </div>
    </div>
    <div class="col-md-3 stat-col" data-bar="75" data-count="3000+">
      <h1 class="display-4 fw-bold stat-number" data-target="3000">0</h1>
      <p class="h4">Formés</p>
      <br />
      <div
        class="progress mx-5 shadow"
        role="progressbar"
        aria-label="Success example"
        aria-valuenow="25"
        aria-valuemin="0"
        aria-valuemax="100"
      >
        <div class="progress-bar bg-gdd stat-bar" style="width: 0%"></div>
      </div>
    </div>
    <div class="col-md-3 stat-col" data-bar="75" data-count="12">
      <h1 class="display-4 fw-bold stat-number" data-target="12">0</h1>
      <p class="h4">Programmes</p>
      <br />
      <div
        class="progress mx-5 shadow"
        role="progressbar"
        aria-label="Success example"
        aria-valuenow="25"
        aria-valuemin="0"
        aria-valuemax="100"
      >
        <div class="progress-bar bg-gdd stat-bar" style="width: 0%"></div>
      </div>
    </div>
  </div>

  <hr class="featurette-divider" />
</section>

<!--partenaire-->
<section class="container mt-5" data-aos="fade-up">
  <div class="d-flex flex-lg-wrap align-items-center pb-3 m-5 me-0 ms-4 gap-2">
    <div class="barre-verticale"></div>
    <h2 class="h2 display-5 fw-bold" data-aos="fade-right" data-aos-delay="100">
      Partenaires
    </h2>
  </div>

  <!-- Swiper HTML (dans <body>) -->
  <div class="swiper" data-aos="zoom-in" data-aos-delay="200">
    <div class="swiper-wrapper">
      <div class="swiper-slide">Slide 1</div>
      <div class="swiper-slide">Slide 2</div>
      <div class="swiper-slide">Slide 3</div>
      <div class="swiper-slide">Slide 4</div>
      <div class="swiper-slide">Slide 5</div>
      <div class="swiper-slide">Slide 6</div>
      <!-- ajoute autant de slides que tu veux -->
    </div>

    <!-- Pagination (facultatif) -->
    <div class="swiper-pagination"></div>

    <!-- Boutons de navigation -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>

  {% block scripts %}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const swiper = new Swiper(".swiper", {
        loop: true,
        slidesPerGroup: 1,
        spaceBetween: 20,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        breakpoints: {
          0: { slidesPerView: 1 },
          640: { slidesPerView: 2 },
          768: { slidesPerView: 3 },
          1024: { slidesPerView: 4 },
        },
      });
    });
  </script>
  {% endblock %}

  <hr class="featurette-divider" />
</section>

<!--Promoteurs-->
<section class="container my-5" data-aos="fade-up">
  <div class="d-flex flex-lg-wrap align-items-center pb-3 m-5 me-0 ms-4 gap-2">
    <div class="barre-verticale"></div>
    <h2 class="h2 display-5 fw-bold" data-aos="fade-right" data-aos-delay="100">
      Promoteurs
    </h2>
  </div>

  <div class="container marketing">
    <!-- Three columns of text below the carousel -->
    <div class="row">
      <div
        class="col-lg-4 d-flex flex-column align-items-center justify-content-center"
        data-aos="zoom-in"
        data-aos-delay="200"
      >
        <div class="cercle d-flex justify-content-center align-items-center">
          <img src="{% static 'images/logo.jpg' %}" alt="" />
        </div>

        <h2 class="fw-normal">Mme Pavoshko</h2>
        <p>
          Some representative placeholder content for the three columns of text
          below the carousel. This is the first column.
        </p>
        <p>
          <a
            class="btn bg-gdd text-white animate__animated animate__fadeInUp animate__delay-1s"
            href="#"
            >View details &raquo;</a
          >
        </p>
      </div>
      <!-- /.col-lg-4 -->
      <div
        class="col-lg-4 d-flex flex-column align-items-center justify-content-center"
        data-aos="zoom-in"
        data-aos-delay="300"
      >
        <div class="cercle d-flex justify-content-center align-items-center">
          <img src="{% static 'images/logo.jpg' %}" alt="" />
        </div>

        <h2 class="fw-normal">Mr Hawkings</h2>
        <p>
          Some representative placeholder content for the three columns of text
          below the carousel. This is the first column.
        </p>
        <p>
          <a
            class="btn bg-gdd text-white animate__animated animate__fadeInUp animate__delay-2s"
            href="#"
            >View details &raquo;</a
          >
        </p>
      </div>
      <!-- /.col-lg-4 -->
      <div
        class="col-lg-4 d-flex flex-column align-items-center justify-content-center"
        data-aos="zoom-in"
        data-aos-delay="400"
      >
        <div class="cercle d-flex justify-content-center align-items-center">
          <img src="{% static 'images/logo.jpg' %}" alt="" />
        </div>

        <h2 class="fw-normal">Mme Pearson</h2>
        <p>
          Some representative placeholder content for the three columns of text
          below the carousel. This is the first column.
        </p>
        <p>
          <a
            class="btn bg-gdd text-white animate__animated animate__fadeInUp animate__delay-3s"
            href="#"
            >View details &raquo;</a
          >
        </p>
      </div>
    </div>
    <!-- /.col-lg-4 -->
  </div>
  <!-- /.row -->
</section>


  
</section>

<!-- Ajout Typed.js pour effet texte dynamique sur le slogan uniquement -->
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Animation du slogan avec fade
    new Typed("#typed-slogan", {
      strings: [
        "Une communauté qui connecte les jeunes entrepreneurs du Septentrion.",
        "Rejoignez-nous et développez votre réseau !",
        "Des opportunités, des projets, de l'entraide.",
      ],
      typeSpeed: 40,
      backSpeed: 20,
      backDelay: 2000,
      loop: true,
      showCursor: false,
      fadeOut: true,
      fadeOutClass: "typed-fade-out",
      fadeOutDelay: 500,
    });
  });
</script>

<!-- Animation stats : chiffres et barres progressives au scroll, une seule fois -->
<script>
  (function () {
    let statsAnimated = false;

    function animateStats() {
      if (statsAnimated) return;
      statsAnimated = true;
      document.querySelectorAll(".stat-col").forEach(function (col) {
        // Chiffre
        const number = col.querySelector(".stat-number");
        const target = parseInt(number.getAttribute("data-target"));
        const isPlus = col.getAttribute("data-count").includes("+");
        let count = 0;
        const duration = 1200;
        const step = Math.ceil(target / (duration / 20));

        function updateNumber() {
          count += step;
          if (count >= target) {
            number.textContent = isPlus ? target + "+" : target;
          } else {
            number.textContent = count;
            setTimeout(updateNumber, 20);
          }
        }

        updateNumber();
        // Barre
        const bar = col.querySelector(".stat-bar");
        const barTarget = parseInt(col.getAttribute("data-bar"));
        let width = 0;
        const barStep = Math.ceil(barTarget / (duration / 20));

        function updateBar() {
          width += barStep;
          if (width >= barTarget) {
            bar.style.width = barTarget + "%";
          } else {
            bar.style.width = width + "%";
            setTimeout(updateBar, 20);
          }
        }

        updateBar();
      });
    }

    // Intersection Observer pour déclencher l'animation quand la section est visible
    document.addEventListener("DOMContentLoaded", function () {
      const section = document.getElementById("stats-section");
      if ("IntersectionObserver" in window) {
        const observer = new IntersectionObserver(
          function (entries) {
            if (entries[0].isIntersecting) {
              animateStats();
              observer.disconnect();
            }
          },
          { threshold: 0.3 }
        );
        observer.observe(section);
      } else {
        // fallback si pas supporté
        window.addEventListener("scroll", function onScroll() {
          const rect = section.getBoundingClientRect();
          if (rect.top < window.innerHeight && rect.bottom > 0) {
            animateStats();
            window.removeEventListener("scroll", onScroll);
          }
        });
      }
    });
  })();
</script>
{% endblock %}
